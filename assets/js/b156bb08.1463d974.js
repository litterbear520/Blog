"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[8229],{4267:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>m});const o=JSON.parse('{"id":"LangChain/\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f","title":"\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f","description":"LangChain \u63d0\u793a\u8bcd\u6a21\u677f","source":"@site/docs/LangChain/\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f.md","sourceDirName":"LangChain","slug":"/LangChain/\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f","permalink":"/Blog/docs/LangChain/\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/LangChain/\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"description":"LangChain \u63d0\u793a\u8bcd\u6a21\u677f"},"sidebar":"tutorialSidebar","previous":{"title":"\u8c03\u7528\u5d4c\u5165\u6a21\u578b","permalink":"/Blog/docs/LangChain/\u8c03\u7528\u5d4c\u5165\u6a21\u578b"},"next":{"title":"Fewshot \u63d0\u793a\u8bcd\u6a21\u677f","permalink":"/Blog/docs/LangChain/Fewshot\u63d0\u793a\u8bcd\u6a21\u677f"}}');var r=t(4848),i=t(8453);const a={sidebar_position:10,description:"LangChain \u63d0\u793a\u8bcd\u6a21\u677f"},l="\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f",s={},m=[{value:"\u901a\u7528prompt(zero-shot)",id:"\u901a\u7528promptzero-shot",level:2},{value:"\u6807\u51c6\u5199\u6cd5",id:"\u6807\u51c6\u5199\u6cd5",level:3},{value:"\u57fa\u4e8echain\u94fe\u7684\u5199\u6cd5",id:"\u57fa\u4e8echain\u94fe\u7684\u5199\u6cd5",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function p(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f",children:"\u901a\u7528\u63d0\u793a\u8bcd\u6a21\u677f"})}),"\n",(0,r.jsx)(n.h2,{id:"\u901a\u7528promptzero-shot",children:"\u901a\u7528prompt(zero-shot)"}),"\n",(0,r.jsxs)(n.p,{children:["\u63d0\u793a\u8bcd\u4f18\u5316\u5728\u6a21\u578b\u5e94\u7528\u4e2d\u975e\u5e38\u91cd\u8981\uff0cLangChain\u63d0\u4f9b\u4e86 ",(0,r.jsx)(n.code,{children:"PromptTemplate"})," \u7c7b\uff0c\u7528\u6765\u534f\u52a9\u4f18\u5316\u63d0\u793a\u8bcd\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"PromptTemplate"})," \u8868\u793a\u63d0\u793a\u8bcd\u6a21\u677f\uff0c\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u57fa\u7840\u63d0\u793a\u8bcd\u6a21\u677f\uff0c\u652f\u6301\u53d8\u91cf\u7684\u6ce8\u5165\uff0c\u6700\u7ec8\u751f\u6210\u6240\u9700\u7684\u63d0\u793a\u8bcd\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6807\u51c6\u5199\u6cd5",children:"\u6807\u51c6\u5199\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\nimport logging\nfrom langchain_community.llms.tongyi import Tongyi\nfrom langchain_core.prompts import PromptTemplate\nfrom dotenv import load_dotenv\n\nload_dotenv()\nDASHSCOPE_API_KEY = os.getenv(\'LLM_API_KEY\')\n\n# \u57fa\u7840\u65e5\u5fd7\u914d\u7f6e\nlogging.basicConfig(\n    level=logging.INFO,format=\'%(asctime)s - %(levelname)s - %(message)s\'\n    )\nlogger = logging.getLogger(__name__)\n\nprompt_template = PromptTemplate.from_template(\n    "\u6211\u7684\u90bb\u5c45\u59d3{lastname}\uff0c\u521a\u751f\u4e86{gender}\uff0c\u4f60\u5e2e\u6211\u53d6\u4e2a\u540d\u5b57\uff0c\u7b80\u6d01\u56de\u7b54\u3002"\n)\nprompt_text = prompt_template.format(lastname="\u5f20", gender="\u5973\u513f")\nlogger.info("\u751f\u6210\u7684\u63d0\u793a\u8bcd: %s", prompt_text)\n\nmodel = Tongyi(model="qwen-max",api_key=DASHSCOPE_API_KEY)\nres = model.invoke(input=prompt_text)\nlogger.info("\u5927\u6a21\u578b\u56de\u590d: %s",res)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u4e8echain\u94fe\u7684\u5199\u6cd5",children:"\u57fa\u4e8echain\u94fe\u7684\u5199\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\nimport logging\nfrom langchain_community.llms.tongyi import Tongyi\nfrom langchain_core.prompts import PromptTemplate\nfrom dotenv import load_dotenv\n\nload_dotenv()\nDASHSCOPE_API_KEY = os.getenv(\'LLM_API_KEY\')\n\n# \u57fa\u7840\u65e5\u5fd7\u914d\u7f6e\nlogging.basicConfig(level=logging.INFO,format=\'%(asctime)s - %(levelname)s - %(message)s\')\nlogger = logging.getLogger(__name__)\n\nprompt_template = PromptTemplate.from_template(\n    "\u6211\u7684\u90bb\u5c45\u59d3{lastname}\uff0c\u521a\u751f\u4e86{gender}\uff0c\u4f60\u5e2e\u6211\u53d6\u4e2a\u540d\u5b57\uff0c\u7b80\u6d01\u56de\u7b54\u3002"\n)\nprompt_text = prompt_template.format(lastname="\u5f20", gender="\u5973\u513f")\nlogger.info("\u751f\u6210\u7684\u63d0\u793a\u8bcd: %s", prompt_text)\n\nmodel = Tongyi(model="qwen-max",api_key=DASHSCOPE_API_KEY)\n\nchain = prompt_template | model\nlogger.info("\u6253\u5370chain\u770b\u4e00\u4e0b: %s",chain)\n\nres = chain.invoke(input={"lastname":"\u5f20","gender":"\u5973\u513f"})\nlogger.info("\u5927\u6a21\u578b\u56de\u590d: %s",res)\n\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u57fa\u4e8ePromptTemplate\u7c7b\u53ef\u4ee5\u5f97\u5230\u63d0\u793a\u8bcd\u6a21\u677f\uff0c\u652f\u6301\u57fa\u4e8e\u6a21\u677f\u6ce8\u5165\n\u53d8\u91cf\u5f97\u5230\u6700\u7ec8\u63d0\u793a\u8bcd\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"zero-shot \u601d\u60f3\u4e0b\uff0c\u53ef\u4ee5\u57fa\u4e8e PromptTemplate \u76f4\u63a5\u5b8c\u6210\u3002"}),"\n",(0,r.jsx)(n.li,{children:"few-shot \u601d\u60f3\u4e0b\uff0c\u9700\u8981\u66f4\u6362\u4e3a FewShotPromptTemplate"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"\u4f7f\u7528 PromptTemplate \u8fd8\u4e0d\u5982\u81ea\u5df1\u624b\u52a8\u62fc\u63a5\u5b57\u7b26\u4e32\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"1.\u4f7f\u7528Template\u6a21\u677f\u6784\u5efa\u63d0\u793a\u8bcd\uff0c\u5728\u5927\u578b\u5de5\u7a0b\u4e2d\u66f4\u5bb9\u6613\u505a\u6807\u51c6\u5316\u6a21\u677f"}),"\n",(0,r.jsx)(n.p,{children:"2.Template\u6a21\u677f\u7c7b\uff0c\u652f\u6301LangChian\u6846\u67b6\u7684\u94fe\u5f0f\u8c03\u7528 (Runnable\u63a5\u53e3)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PromptTemplate"}),"\n",(0,r.jsx)(n.li,{children:"FewShotPromptTemplate"}),"\n",(0,r.jsx)(n.li,{children:"ChatPromptTemplate"}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var o=t(6540);const r={},i=o.createContext(r);function a(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);