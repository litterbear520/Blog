"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[8220],{3050:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Message\u7c7b","title":"Message\u7c7b","description":"\u6d88\u606f\u7cfb\u7edf","source":"@site/docs/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Message\u7c7b.md","sourceDirName":"Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3","slug":"/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Message\u7c7b","permalink":"/Blog/docs/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Message\u7c7b","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Message\u7c7b.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Agent\u62bd\u8c61\u57fa\u7c7b","permalink":"/Blog/docs/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u6838\u5fc3/Agent\u62bd\u8c61\u57fa\u7c7b"},"next":{"title":"\u9879\u76ee\u89c4\u8303","permalink":"/Blog/docs/Agent/\u667a\u80fd\u4f53\u6846\u67b6/\u9879\u76ee\u89c4\u8303/"}}');var o=n(4848),r=n(8453);const a={},i="Message\u7c7b",c={},l=[{value:"\u6d88\u606f\u7cfb\u7edf",id:"\u6d88\u606f\u7cfb\u7edf",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"message\u7c7b",children:"Message\u7c7b"})}),"\n",(0,o.jsx)(t.h2,{id:"\u6d88\u606f\u7cfb\u7edf",children:"\u6d88\u606f\u7cfb\u7edf"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'from typing import Optional, Dict, Any, Literal\nfrom datetime import datetime\nfrom pydantic import BaseModel\n\nMessageRole = Literal["user", "assistant", "system", "tool"]\n\nclass Message(BaseModel):\n    """\u6d88\u606f\u7c7b"""\n    \n    content: str\n    role: MessageRole\n    timestamp: datetime = None\n    metadata: Optional[Dict[str, Any]] = None\n    \n    def __init__(self, content: str, role: MessageRole, **kwargs):\n        super().__init__(\n            content=content,\n            role=role,\n            timestamp=kwargs.get(\'timestamp\', datetime.now()),\n            metadata=kwargs.get(\'metadata\', {})\n        )\n    \n    def to_dict(self) -> Dict[str, Any]:\n        """\u8f6c\u6362\u4e3a\u5b57\u5178\u683c\u5f0f\uff08OpenAI API\u683c\u5f0f\uff09"""\n        return {\n            "role": self.role,\n            "content": self.content\n        }\n    \n    def __str__(self) -> str:\n        return f"[{self.role}] {self.content}"\n'})})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var s=n(6540);const o={},r=s.createContext(o);function a(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);