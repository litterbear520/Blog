"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[9366],{8546(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>t,frontMatter:()=>l,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"LangChain/JSONLoader","title":"JSONLoader","description":"JSON\u52a0\u8f7d\u5668","source":"@site/docs/LangChain/JSONLoader.md","sourceDirName":"LangChain","slug":"/LangChain/JSONLoader","permalink":"/Blog/docs/LangChain/JSONLoader","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/LangChain/JSONLoader.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22,"description":"JSON\u52a0\u8f7d\u5668"},"sidebar":"tutorialSidebar","previous":{"title":"CSVLoader","permalink":"/Blog/docs/LangChain/CSVLoader"},"next":{"title":"TextLoader\u548c\u6587\u6863\u5206\u5272\u5668","permalink":"/Blog/docs/LangChain/TextLoader\u548c\u6587\u6863\u5206\u5272\u5668"}}');var r=s(4848),a=s(8453);const l={sidebar_position:22,description:"JSON\u52a0\u8f7d\u5668"},i="JSONLoader",c={},o=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u4ee3\u7801\u5b9e\u8df5",id:"\u4ee3\u7801\u5b9e\u8df5",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"jsonloader",children:"JSONLoader"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,r.jsxs)(n.p,{children:["JSONLoader\u7528\u4e8e\u5c06JSON\u6570\u636e\u52a0\u8f7d\u4e3aDocument\u7c7b\u578b\u5bf9\u8c61\u3002\n\u4f7f\u7528JSONLoader\u9700\u8981\u989d\u5916\u5b89\u88c5\uff1a",(0,r.jsx)(n.code,{children:"pip install jq"})]}),"\n",(0,r.jsxs)(n.p,{children:["jq\u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684json\u89e3\u6790\u5de5\u5177\uff0cLangChain\u5e95\u5c42\u5bf9JSON\u7684\u89e3\u6790\u5c31\u662f\u57fa\u4e8ejq\u5de5\u5177\u5b9e\u73b0\u7684\u3002\n\u5c06JSON\u6570\u636e\u7684\u4fe1\u606f\u62bd\u53d6\u51fa\u6765\uff0c\u5c01\u88c5\u4e3a",(0,r.jsx)(n.code,{children:"Document"}),"\u5bf9\u8c61\uff0c\u62bd\u53d6\u7684\u65f6\u5019\u4f9d\u8d56jq_schema\u8bed\u6cd5\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "\u5468\u6770\u4f26",\n  "age": 11,\n  "hobby": ["\u5531", "\u8df3", "RAP"],\n  "other": {\n    "addr": "\u6df1\u5733",\n    "tel": "12332112321"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"."})," \u8868\u793a\u6574\u4e2aJSON\u5bf9\u8c61\uff08\u6839\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".[ ]"})," \u8868\u793a\u6570\u7ec4"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".name"})," \u8868\u793a\u62bd\u53d6\u5468\u6770\u4f26"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".hobby"})," \u8868\u793a\u62bd\u53d6\u7231\u597d\u6570\u7ec4"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".hobby[1]"})," \u6216 ",(0,r.jsx)(n.code,{children:".hobby .[1]"})," \u8868\u793a\u62bd\u53d6\u8df3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".other.addr"})," \u8868\u793a\u62bd\u53d6\u5730\u5740\u6df1\u5733"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'[\n  {"name": "\u5468\u6770\u4f26", "age": 11, "gender": "\u7537"},\n  {"name": "\u8521\u4f9d\u4e34", "age": 12, "gender": "\u5973"},\n  {"name": "\u738b\u529b\u5b8f", "age": 11, "gender": "\u7537"}\n]\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".[ ]"})," \u5f97\u52303\u4e2a\u5b57\u5178"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".[].name"})," \u8868\u793a\u62bd\u53d6\u5168\u90e8\u7684name\uff0c\u5373\u5f97\u52303\u4e2aname\u4fe1\u606f"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4e86\u89e3jq\u7684\u57fa\u672c\u62bd\u53d6\u89c4\u5219\u540e\uff0c\u5373\u53ef\u4f7f\u7528JSONLoader\u52a0\u8f7dJSON\u6587\u4ef6\u4e86\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from langchain_community.document_loaders import JSONLoader\n\nloader = JSONLoader(\n    file_path="xxx.json",    # \u6587\u4ef6\u8def\u5f84\n    jq_schema=".",           # jq schema\u8bed\u6cd5\n    text_content=False,      # \u62bd\u53d6\u7684\u662f\u5426\u662f\u5b57\u7b26\u4e32\uff0c\u9ed8\u8ba4True\n    json_lines=True,         # \u662f\u5426\u662fJsonLines\u6587\u4ef6\uff08\u6bcf\u4e00\u884c\u90fd\u662fJSON\u7684\u6587\u4ef6\uff09\n)\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u4e0b\u662f\u4e00\u4e2a\u5178\u578b\u7684JsonLines\u6587\u4ef6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{"name": "\u5468\u6770\u4f26", "age": 11, "gender": "\u7537"}\n{"name": "\u8521\u4f9d\u4e34", "age": 12, "gender": "\u5973"}\n{"name": "\u738b\u529b\u9e3f", "age": 11, "gender": "\u7537"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u4ee3\u7801\u5b9e\u8df5",children:"\u4ee3\u7801\u5b9e\u8df5"}),"\n",(0,r.jsx)(n.p,{children:"\u65b0\u5efa\u4e09\u4e2ajson\u6587\u4ef6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "name": "\u5468\u6770\u4f26",\n    "age": 11,\n    "hobby": ["\u5531", "\u8df3", "RAP"],\n    "other": {\n      "addr": "\u6df1\u5733",\n      "tel": "12332112321"\n    }\n  }\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'[\n    {"name": "\u5468\u6770\u4f26", "age": 11, "gender": "\u7537"},\n    {"name": "\u8521\u4f9d\u4e34", "age": 12, "gender": "\u5973"},\n    {"name": "\u738b\u529b\u9e3f", "age": 11, "gender": "\u7537"}\n]\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{"name": "\u5468\u6770\u4f26", "age": 11, "gender": "\u7537"}\n{"name": "\u8521\u4f9d\u4e34", "age": 12, "gender": "\u5973"}\n{"name": "\u738b\u529b\u9e3f", "age": 11, "gender": "\u7537"}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from langchain_community.document_loaders import JSONLoader\n\nloader = JSONLoader(\n    file_path="data/jsonline.json",\n    jq_schema=".name",\n    text_content=False, # \u544a\u77e5JSONLoader\u62bd\u53d6\u7684\u5185\u5bb9\u4e0d\u662f\u5b57\u7b26\u4e32\n    json_lines=True,    # \u544a\u77e5JSONLoader\u8fd9\u662f\u4e00\u4e2aJSONLines\u6587\u4ef6\uff08\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u72ec\u7acb\u6807\u51c6\u7684JSON\uff09\n)\n\ndocument = loader.load()\nprint(document)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsxs)(n.p,{children:["JSONLoader\u4f9d\u8d56jq\u5e93\uff0c\u901a\u8fc7",(0,r.jsx)(n.code,{children:"pip install jq"}),"\u5b89\u88c5\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["JSONLoader\u4f7f\u7528jq\u7684\u89e3\u6790\u8bed\u6cd5\uff0c\u5e38\u89c1\u5982\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"."})," \u8868\u793a\u6839\u3001",(0,r.jsx)(n.code,{children:"[]"})," \u8868\u793a\u6570\u7ec4"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".name"})," \u8868\u793a\u4ece\u6839\u53d6name\u7684\u503c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".hobby[1]"})," \u8868\u793a\u53d6hobby\u5bf9\u5e94\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".[]"})," \u8868\u793a\u5c06\u6570\u7ec4\u5185\u7684\u6bcf\u4e2a\u5b57\u5178\uff08JSON\u5bf9\u8c61\uff09\u90fd\u53d6\u5230"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".[].name"})," \u8868\u793a\u53d6\u6570\u7ec4\u5185\u6bcf\u4e2a\u5b57\u5178\uff08JSON\uff09\u5bf9\u8c61\u7684name\u5bf9\u5e94\u7684\u503c"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"JSONLoader\u521d\u59cb\u5316\u67094\u4e2a\u4e3b\u8981\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"file_path"}),"\uff1a\u6587\u4ef6\u8def\u5f84\uff0c\u5fc5\u586b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jq_schema"}),"\uff1ajq\u89e3\u6790\u8bed\u6cd5\uff0c\u5fc5\u586b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"text_content"}),"\uff1a\u62bd\u53d6\u5230\u7684\u662f\u5426\u662f\u5b57\u7b26\u4e32\uff0c\u9ed8\u8ba4",(0,r.jsx)(n.code,{children:"True"}),"\uff0c\u975e\u5fc5\u586b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"json_lines"}),"\uff1a\u662f\u5426\u662fJsonLines\u6587\u4ef6\uff0c\u9ed8\u8ba4",(0,r.jsx)(n.code,{children:"False"}),"\uff0c\u975e\u5fc5\u586b","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"JsonLines\u6587\u4ef6\uff1a\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5b57\u5178\uff08Json\u5bf9\u8c61\uff09"}),"\n"]}),"\n"]}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>i});var d=s(6540);const r={},a=d.createContext(r);function l(e){const n=d.useContext(a);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(a.Provider,{value:n},e.children)}}}]);